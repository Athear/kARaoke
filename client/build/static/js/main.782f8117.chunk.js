(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{40:function(e,t,n){e.exports=n(94)},63:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(36),o=n.n(c),l=n(12),s=n(1),i=n(7),u=n(9),m=n.n(u),d=function(){return m.a.get("/api/stage")},f=function(e){return m.a.post("/api/users/login",e)},p=function(e){return m.a.post("/api/users/signup",e)},g=function(){return m.a.post("/api/users/logout")},h=function(){return m.a.get("/api/users/session")},E=Object(a.createContext)();function v(e){var t=e.children,n=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){var e=h().then((function(e){e.data&&e.data.user?r(e.data.user):r(!1)}));return function(){return e()}}),[]),{user:n,signin:function(e,t){return f({username:e,password:t}).then((function(e){return r(e.user),e.user}))},signup:function(e,t,n){return p({username:e,email:t,password:n}).then((function(e){return r(e.user),e.user}))},signout:function(){return g({}).then((function(){r(!1)}))}}}();return r.a.createElement(E.Provider,{value:n},t)}function w(e){var t=e.fluid,n=e.children;return r.a.createElement("div",{className:"container".concat(t?"-fluid":"")},n)}function b(e){var t=e.fluid,n=e.children;return r.a.createElement("div",{className:"row".concat(t?"-fluid":"")},n)}function N(e){var t=e.size,n=e.children;return r.a.createElement("div",{className:t.split(" ").map((function(e){return"col-"+e})).join(" ")},n)}var y=function(e){return r.a.createElement("video",{width:"85%",height:"fit-content",src:e.mp4,controls:!0,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:e.song+" by "+e.artist,autoPlay:"false",muted:"true",playsInLine:"true"})};n(63);var k=function(e){var t=e.currentSong;return console.log("songSelection: ",t.song),r.a.createElement(y,{mp4:t.song,song:t.name})},O=n(37),j=n.n(O),C=n(17);var S=function(e,t){var n,a,r,c,o,l,s,i;function u(e){e.length>0&&(i=e[0].pose)}function m(){console.log("poseNet ready")}console.log("sketch props: ",t),e.preload=function(){c=e.loadImage("https://chriscastle.com/temp/chrisg/aviators.png"),o=e.loadImage("https://www.chriscastle.com/temp/chrisg/cowboy.png"),l=e.loadImage("https://chriscastle.com/temp/chrisg/fishnetShirt.png")},e.setup=function(){e.createCanvas(640,480),(s=e.createCapture(e.VIDEO)).hide(),C.poseNet(s,m).on("pose",u)},e.draw=function(){function t(e){e.length>0&&(i=e[0].pose)}function u(){console.log("poseNet ready")}1==e.MIRROR_VIDEO_FEED&&(e.translate(e.width,0),e.scale(-1,1)),e.image(s,0,0),e.setup=function(){e.createCanvas(640,480),(s=e.createCapture(e.VIDEO)).hide(),C.poseNet(s,u).on("pose",t)},e.myCustomRedrawAccordingToNewPropsHandler=function(t){var c=t.currentSong;console.log("props in sketch.js: ",c),console.log("outfits: ",c.costume),console.log("filters: ",c.filter);var o=c.costume;e.background=c.filter,console.log("var outfit: ",o),o&&(n=o.glasses,a=o.hat,r=o.shirt),e.background},e.draw=function(){if(e.image(s,0,0),i){var t=i.keypoints[0].position,u=i.keypoints[1].position,m=i.keypoints[2].position,d=i.keypoints[5].position,f=i.keypoints[6].position,p=d.x-f.x,g=(u.x-m.x)/250;n&&e.image(c,t.x-353*g,t.y-200*g,c.width*g,c.height*g),a&&e.image(o,i.nose.x-465*g,i.nose.y-650*g,(o.width+300)*g,(o.height+100)*g),r&&e.image(l,i.rightShoulder.x-200*g,i.rightShoulder.y-400*g,p+100,p)}}}},x=(n(85),function(e){var t=e.currentSong;return r.a.createElement("div",{className:"canvas"},r.a.createElement(j.a,{sketch:S,currentSong:t}))});var _=function(e){var t=e.id,n=e.title,a=e.costume,c=e.src,o=e.filter,l=e.handleClick;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{id:t,src:c,"data-title":n,"data-costume":a,"data-filter":o,onClick:function(e){return l(e)}},n," "))};var D=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)({}),l=Object(i.a)(o,2),s=l[0],u=l[1];function m(e){e.preventDefault();var t=e.target.id,a=n.find((function(e){return e._id===t}));console.log("in click handler: ",a),u(a)}return Object(a.useEffect)((function(){d().then((function(e){return c(e.data)})).catch((function(e){return console.log(e)}))}),[]),r.a.createElement(w,{fluid:!0},r.a.createElement(b,null,r.a.createElement(N,{size:"md-6"},r.a.createElement(x,{currentSong:s})),r.a.createElement(N,{size:"md-6 sm-12"},r.a.createElement(k,{currentSong:s}),r.a.createElement(b,null,r.a.createElement(N,{size:"md-6 sm-12"},n.map((function(e){return r.a.createElement(_,{key:e._id,id:e._id,title:e.name,costume:e.costume,src:e.song,filter:e.filter,handleClick:m})})))))))};n(86);var I=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"jumbotron row"},r.a.createElement("h1",{className:"title"},"kARaoke")),r.a.createElement("div",{className:"text-center jumbotron row"},r.a.createElement("a",{className:"btn btn-lg cta rounded-0",href:"/login",role:"button"},"Just duet already!")))};n(87);var R=function(){return r.a.createElement("div",null,r.a.createElement(I,null),r.a.createElement("div",{className:"crowd"},r.a.createElement("h1",{className:"blank"},"CROWD GOES WILD")))};var z=function(){return r.a.createElement(w,{fluid:!0},r.a.createElement(b,null,r.a.createElement(N,{size:"md-12"},r.a.createElement(I,null,r.a.createElement("h1",null,"404 Page Not Found-Try Tuning your Station"),r.a.createElement("h1",null)))))},P=n(13),B=n(18);function F(e){return r.a.createElement("div",{className:"form-group"},r.a.createElement("input",Object.assign({className:"form-control input-spacing"},e)))}function A(e){return r.a.createElement("button",Object.assign({},e,{style:{float:"right",marginBottom:10},className:"btn btn-success form-cta"}),e.children)}n(88);var J=function(){var e=Object(a.useState)({}),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(a.useContext)(E),l=Object(s.f)();function u(e){var t=e.target,a=t.name,r=t.value;c(Object(B.a)(Object(B.a)({},n),{},Object(P.a)({},a,r)))}return r.a.createElement("div",{className:"background"},r.a.createElement(w,{fluid:!0},r.a.createElement(b,{className:"padding"},r.a.createElement(N,{size:"md-6"},r.a.createElement("h2",{className:"heading"},"Login"),r.a.createElement("form",null,r.a.createElement(F,{onChange:u,name:"userName",placeholder:"User Name",type:"text"}),r.a.createElement(F,{onChange:u,name:"password",placeholder:"Password",type:"password"}),r.a.createElement(A,{disabled:!(n.userName&&n.password),onClick:function(e){e.preventDefault(),n.userName&&n.password&&o.signin(n.userName,n.password).then((function(){return l.replace("/")})).catch((function(e){return console.log(e)}))}},"Welcome Back!"))),r.a.createElement(N,{size:"md-6"},r.a.createElement("h2",{className:"heading"},"Sign-up"),r.a.createElement("form",null,r.a.createElement(F,{onChange:u,name:"new_userName",placeholder:"User Name",type:"text"}),r.a.createElement(F,{onChange:u,name:"new_email",placeholder:"Email",type:"text"}),r.a.createElement(F,{onChange:u,name:"new_password",placeholder:"Password",type:"password"}),r.a.createElement(A,{disabled:!(n.new_userName&&n.new_password),onClick:function(e){e.preventDefault(),n.new_userName&&n.new_password&&n.new_email&&o.signup(n.new_userName,n.new_email,n.new_password).then((function(){return l.replace("/")})).catch((function(e){return console.log(e.response.data.message,e.response.status)}))}},"Are You Ready to ROCK?")))),r.a.createElement(A,{onClick:function(e){console.log(o.user),o.user?console.log("valid!"):console.log("invalid!")}},"validate"),r.a.createElement(A,{onClick:function(e){e.preventDefault(),o.signout().then((function(){return l.replace("/")})).catch((function(e){return console.log(e.response.data.message,e.response.status)}))}},"logout")))},L=n(39);function T(e){e.children;var t=Object(L.a)(e,["children"]);return r.a.createElement(s.a,Object.assign({},t,{render:function(e){e.location;return console.log("loggit")}}))}var V=function(){return r.a.createElement(v,null,r.a.createElement(l.a,null,r.a.createElement("div",null,r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:["/"]},r.a.createElement(R,null)),r.a.createElement(s.a,{exact:!0,path:["/login"]},r.a.createElement(J,{className:"background"})),r.a.createElement(T,{exact:!0,path:["/stage"]},r.a.createElement(D,null)),r.a.createElement(s.a,null,r.a.createElement(z,null))))))};n(93);o.a.render(r.a.createElement(V,null),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.782f8117.chunk.js.map